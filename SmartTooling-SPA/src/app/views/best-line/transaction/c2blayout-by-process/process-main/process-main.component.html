<div class="animated fadeIn">
  <!--/.row-->
  <div class="row">
    <!--/.col-->
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col-md-2">
              <label class="badge badge-warning">Pilot Line</label><span class="red_star">  *</span>
              <ng-select2 width="100%" [data]="arrLineID" [(ngModel)]="lineID" name="lineID"
                (ngModelChange)="lineIDChange($event)" placeholder="Select Line...">
              </ng-select2>
            </div>
            <div class="col-md-2">
              <label class="badge badge-warning">Line Type</label><span class="red_star">  *</span>
              <ng-select2 width="100%" [disabled]="!lineID" [data]="arrLineTypeID" [(ngModel)]="lineTypeID"
                name="lineTypeID" (ngModelChange)="lineTypeIDChange($event)"placeholder="Select Line Type...">
              </ng-select2>
            </div>
            <div class="col-md-2">
              <label class="badge badge-warning">Model No</label><span class="red_star">  *</span>
              <ng-select2 width="100%" [disabled]="!lineTypeID" [data]="arrModelNo" [(ngModel)]="modelNo" name="modelNo"
                (ngModelChange)="modelNoChange($event)" placeholder="Select Model No...">
              </ng-select2>
            </div>
            <div class="col-md-2">
              <label class="badge badge-warning">Model Name</label><span class="red_star">  </span>
              <input placeholder="Model Name..." [(ngModel)]="modelName" type="text" name="modelName" class="form-control" disabled />
            </div>
            <div class="col-md-4 pt-4">
              <button type="button" class="btn btn-secondary float-left mr-2 mt-1" (click)="search(0)">
                <i class="fa fa-search"></i> Query
              </button>
              <button type="button" class="btn btn-danger float-left mt-1" (click)="clear()">
                <i class="fa fa-ban"></i> Clear
              </button>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="add-new">
            <button type="button" class="btn btn-primary float-left mb-2" (click)="addNew()" [disabled]="!modelNo">
              <i class="fa fa-plus"></i> Add new
            </button>
          </div>
          <div class="table-responsive">
            <table class="table table-bordered text-center">
              <thead style="vertical-align: middle">
                <tr>
                  <th></th>
                  <th>Pilot Line</th>
                  <th>Line Type</th>
                  <th>Model No</th>
                  <th>Model Name</th>
                  <th>Process Type</th>
                  <th>Layout Process Before</th>
                  <th>Layout Process After</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngIf="data.length === 0">
                  <td colspan="100%" class="table-warning text-center font-weight-bold"> {{message.NO_DATA}} </td>
                </tr>
              </tbody>
              <tbody>
                <tr *ngFor="let item of data">
                  <td>
                    <button type="button" class="btn btn-primary btn-sm ml-4" (click)="edit(item)">
                      <i class="fa fa-edit fa-lg"></i>
                    </button>
                  </td>
                  <td>{{ item.line_name }}</td>
                  <td>{{ item.line_type_name }}</td>
                  <td>{{ item.model_no }}</td>
                  <td>{{ item.model_name }}</td>
                  <td>{{ item.process_type_name_en }}</td>
                  <td>
                    <a [href]="urlImage + item.each_process_image_before + '?r=' + random" target="_blank" rel="noopener noreferrer">
                        <img class="img" [src]="urlImage + item.each_process_image_before + '?r=' + random">
                    </a>
                </td>
                <td>
                  <a [href]="urlImage + item.each_process_image_after + '?r=' + random" target="_blank" rel="noopener noreferrer">
                    <img class="img" [src]="urlImage + item.each_process_image_after + '?r=' + random">
                  </a>
              </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="d-flex" *ngIf="pagination.totalPages > 1">
            <pagination [boundaryLinks]="true" [totalItems]="pagination.totalItems" [(ngModel)]="pagination.currentPage"
              [itemsPerPage]="pagination.itemsPerPage" (pageChanged)="pageChange($event)" previousText="&lsaquo;"
              nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;" [maxSize]="5">
            </pagination>
          </div>
        </div>
      </div>
    </div>
    <!--/.col-->
  </div>
</div>